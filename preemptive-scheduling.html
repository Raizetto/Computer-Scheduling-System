<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
        <link rel="stylesheet" href="preemptive.css">
        <script src="preemptive-script.js"></script>
        <title>Process Scheduling System</title>
    </head>
    <body>
        <div class="container">
            <a href="scheduling.html"><i class="fa-solid fa-arrow-left"></i></a>
            <h1>Preemptive Scheduling System</h1>

            <div class="form-group">
                <label>Algorithm</label>
                <select id="algorithm" onchange="togglePriorityInput()">
                    <option value="">--Select Algorithm--</option>
                    <option value="SRTF">SRTF (Shortest Remaining Time First)</option>
                    <option value="RoundRobin">Round Robin</option>
                    <option value="Preemptive Priority">Priority (Preemptive)</option>
                </select>                
            </div>

            <div class="form-group" id="quantumInput">
                <label>Quantum Time (only applicable for Round Robin)</label>
                <input type="number" id="quantum" value="1" min="1" />
            </div>                      

            <h2>Add Process</h2>
            <div class="row">
                <div class="form-group">
                    <label>Process ID</label>
                    <input type="text" id="pid" readonly />
                </div>
                <div class="form-group">
                    <label>Arrival Time</label>
                    <input type="number" id="arrival" />
                </div>
                <div class="form-group">
                    <label>Burst Time</label>
                    <input type="number" id="burst" />
                </div>
                <div class="form-group" id="priorityInput">
                    <label>Priority</label>
                    <input type="number" id="priority" />
                </div>
            </div>

            <button onclick="addProcess()">Add Process</button>

            <br><br>

            <h2>Current Inputs</h2>
            <table id="inputTable">
                <thead>
                    <tr>
                        <th>Process</th>
                        <th>Arrival Time</th>
                        <th>Burst Time</th>
                        <th>Priority</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>

            <br>

            <button onclick="runScheduling()">Run Scheduling</button>

            <br><br>

            <h2>Scheduling Result</h2>
            <table id="resultTable">
                <thead>
                    <tr>
                        <th>Process</th>
                        <th>Arrival Time</th>
                        <th>Burst Time</th>
                        <th>Start Time</th>
                        <th>Finish Time</th>
                        <th>Waiting Time</th>
                        <th>Turnaround Time</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>

            <br>

            <div id="averages"></div>

            <br>

            <h2>Gantt Chart</h2>
            <div class="gantt" id="ganttChart"></div>
        </div>
    </body>
</html>